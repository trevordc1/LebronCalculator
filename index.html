<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LeBron James Hub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('glorious_pookie_James.png');
            background-size: 38%;
            background-position: center 15%;
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

        .navbar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .nav-btn {
            padding: 10px 20px;
            border: 1px solid #666;
            border-radius: 0px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            background: #ddd;
            color: #000;
            font-family: Arial, sans-serif;
            transition: none;
        }

        .nav-btn.active {
            background: #667eea;
            color: white;
            border: 1px solid #444;
            box-shadow: inset 1px 1px 3px rgba(0,0,0,0.3);
        }

        .nav-btn:hover {
            transform: none;
        }

        .page {
            display: none;
        }

        .page.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: #f5f5f5;
            border-radius: 0px;
            padding: 12px;
            max-width: 380px;
            width: 100%;
            box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3), -1px -1px 5px rgba(255, 255, 255, 0.5);
            border: 2px solid #999;
            filter: contrast(1.1) brightness(0.95);
        }

        h1 {
            text-align: center;
            color: #000;
            margin-bottom: 2px;
            font-size: 21px;
            font-weight: 900;
            font-family: Arial, sans-serif;
            letter-spacing: 1px;
            text-shadow: 1px 1px 0px rgba(0,0,0,0.1);
        }

        .subtitle {
            text-align: center;
            color: #555;
            margin-bottom: 10px;
            font-size: 13px;
            font-family: Arial, sans-serif;
        }

        .mode-toggle {
            display: flex;
            gap: 4px;
            margin-bottom: 8px;
        }

        .mode-btn {
            flex: 1;
            padding: 6px;
            border: 1px solid #666;
            border-radius: 0px;
            font-size: 13px;
            font-weight: 700;
            cursor: pointer;
            transition: none;
            background: #ddd;
            color: #000;
            font-family: Arial, sans-serif;
        }

        .mode-btn.active {
            background: #667eea;
            color: white;
            border: 1px solid #444;
            box-shadow: inset 1px 1px 3px rgba(0,0,0,0.3);
        }

        .mode-btn:hover {
            transform: none;
        }

        .info-box {
            background: #e8e8e8;
            border-left: 2px solid #666;
            padding: 8px;
            margin-bottom: 8px;
            border-radius: 0px;
            font-size: 16px;
            color: #333;
            font-family: Arial, sans-serif;
            border: 1px solid #999;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 6px;
            color: #333;
            font-weight: 600;
            font-size: 15px;
        }

        input {
            width: 100%;
            padding: 6px;
            border: 1px solid #999;
            border-radius: 0px;
            font-size: 12px;
            transition: none;
            font-family: Arial, sans-serif;
            background: #fff;
        }

        input:focus {
            outline: none;
            border: 1px solid #666;
            box-shadow: inset 0px 0px 2px rgba(0,0,0,0.2);
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        button {
            flex: 1;
            padding: 8px;
            border: 1px solid #666;
            border-radius: 0px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: none;
            font-family: Arial, sans-serif;
        }

        .calculate-btn {
            background: #667eea;
            color: white;
            border: 1px solid #444;
        }

        .calculate-btn:hover {
            background: #5568d3;
            transform: none;
            box-shadow: inset 1px 1px 2px rgba(0,0,0,0.2);
        }

        .clear-btn {
            background: #ddd;
            color: #000;
        }

        .clear-btn:hover {
            background: #ccc;
        }

        .results {
            display: none;
        }

        .results.show {
            display: block;
        }

        .result-section {
            margin-bottom: 6px;
            padding: 8px;
            background: #e8e8e8;
            border-radius: 0px;
            border: 1px solid #999;
        }

        .result-title {
            font-weight: 700;
            color: #000;
            margin-bottom: 2px;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0px;
            font-family: Arial, sans-serif;
        }

        .result-value {
            font-size: 16px;
            color: #000;
            font-weight: 700;
            font-family: Arial, sans-serif;
        }

        .comparison {
            font-size: 18px;
            color: #555;
            margin-top: 8px;
        }

        .older {
            color: #e74c3c;
        }

        .younger {
            color: #27ae60;
        }

        .error {
            color: #e74c3c;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }

        .error.show {
            display: block;
        }

        .hidden-input {
            display: none;
        }

        .divider {
            height: 1px;
            background: #999;
            margin: 4px 0;
        }

        .sunshine-content {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
            max-width: 400px;
        }

        #sunshine .sunshine-image {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
            border: none;
        }

        #sunshine .audio-player {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            z-index: 10;
            background: #e8e8e8;
            border: 2px solid #999;
            padding: 15px;
            border-radius: 0px;
            display: none;
        }

        #sunshine audio {
            width: 100%;
        }


        .sunshine-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            color: #fff;
            display: none;
        }

        #sunshine .container {
            display: none;
        }

        #sunshine .page.active {
            display: flex;
            justify-content: center;
            align-items: center;
            flex: 1;
        }

        #sunshine .sunshine-content {
            display: none;
        }

        #sunshine .audio-player {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            z-index: 10;
        }

        .sunshine-footer.show {
            display: block;
        }

        .sunshine-footer h2 {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .sunshine-footer p {
            font-size: 12px;
            margin: 0;
        }
        #sunshine.page.active ~ .navbar,
        body:has(#sunshine.page.active) .navbar {
            opacity: 0;
            transition: opacity 0.3s;
        }

        body:has(#sunshine.page.active) .navbar:hover {
            opacity: 1;
        }



        #sunshine .youtube-container {
            position: fixed;
            bottom: 400px;
            left: 50%;
            transform: translateX(-50%);
            z-index: -2;
            width: 90%;
            max-width: 560px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        #sunshine .youtube-container:hover {
            opacity: 1;
        }


        textarea {
            width: 100%;
            padding: 6px;
            border: 1px solid #999;
            border-radius: 0px;
            font-size: 12px;
            font-family: Arial, sans-serif;
            background: #fff;
            resize: vertical;
        }

        textarea:focus {
            outline: none;
            border: 1px solid #666;
            box-shadow: inset 0px 0px 2px rgba(0,0,0,0.2);
        }

        .donation-form {
            margin-top: 15px;
        }

        .donate-btn {
            width: 100%;
            background: #27ae60;
            color: white;
            border: 1px solid #1e8449;
            margin-top: 10px;
        }

        .donate-btn:hover {
            background: #229954;
            box-shadow: inset 1px 1px 2px rgba(0,0,0,0.2);
        }

        #donationStatus {
            margin-top: 10px;
            text-align: center;
            font-weight: 600;
            min-height: 20px;
        }

        #donationStatus.success {
            color: #27ae60;
        }

        #donationStatus.error {
            color: #e74c3c;
        }
        #card-element {
            border: 1px solid #999;
            padding: 10px;
            margin: 15px 0;
            border-radius: 0px;
            background: white;
        }

        #card-errors {
            margin: 10px 0;
            display: none;
        }

        #card-errors.show {
            display: block;
        }
        .disclaimer-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #fff3cd;
            border-top: 1px solid #ffc107;
            padding: 10px;
            text-align: center;
            font-size: 11px;
            color: #856404;
            display: none;
            z-index: 5;
        }

        .disclaimer-footer.show {
            display: block;
        }

        /* Add padding to body when disclaimer shows */
        body.disclaimer-active {
            padding-bottom: 60px;
        }

        #boyoh.page {
            padding: 0 !important;
            margin: 0 !important;
        }

        #boyoh.page .boyoh-wrapper {
            width: 100%;
            margin: 0;
            display: flex;
            gap: 20px;
            align-items: flex-start;
            padding: 20px;
        }

        .boyoh-container {
            display: flex;
            gap: 20px;
            flex: 2;
            background: #f5f5f5;
            padding: 20px;
            border-radius: 0px;
            border: 2px solid #999;
            filter: contrast(1.1) brightness(0.95);
            align-items: flex-start;
        }

        .boyoh-column {
            display: flex;
            flex-direction: column;
            gap: 0;
            flex: 1;
            min-width: 100px;
            padding: 0;
            margin: 0;
        }

        .boyoh-column img {
            width: 100%;
            height: auto;
            border: 1px solid #999;
            border-radius: 0px;
            display: block;
            margin: 0;
            padding: 0;
        }

        .boyoh-center {
            flex: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .boyoh-center img {
            width: 100%;
            max-width: 400px;
            border: 2px solid #999;
            border-radius: 0px;
        }

        .boyoh-text {
            text-align: center;
            font-size: 17px;
            line-height: 1.6;
            color: #333;
            font-family: Arial, sans-serif;
        }


</style>
<script src="https://js.stripe.com/v3/"></script>
<script>
    // Fetch Stripe publishable key from backend
    fetch('/api/config')
        .then(r => r.json())
        .then(data => {
            window.STRIPE_PUBLISHABLE_KEY = data.stripePublishableKey;
        });
</script>
</head>

<body>
<!-- Navbar -->
<div class="navbar">
    <button class="nav-btn active" onclick="switchPage('calculator', event)">LeCalculator</button>
    <button class="nav-btn" onclick="switchPage('sunshine', event)">Sunshine ü´∂</button>
    <button class="nav-btn" onclick="switchPage('boyoh', event)">Boy oh boy...</button>
    <button class="nav-btn" onclick="switchPage('donate', event)">Donate üí∞</button>
</div>

<!-- LeCalculator Page -->
<div id="calculator" class="page active">
        <div class="container">
            <h1>üëë LeGoat Calculator</h1>
            <p class="subtitle">See how your age compares to our glorious King James</p>

            <!-- Mode Toggle -->
            <div class="mode-toggle">
                <button class="mode-btn active" data-mode="age" onclick="switchMode('age')">Age Mode</button>
                <button class="mode-btn" data-mode="birthday" onclick="switchMode('birthday')">Birthday Mode</button>
                <button class="mode-btn" data-mode="epoch" onclick="switchMode('epoch')">LeEpoch</button>
            </div>

            <div class="info-box" id="infoBox">
                Our LePookie bear James was born on December 30, 1984. Enter your birth date to compare to our honey snookums!ü´∂
            </div>

            <!-- Age Mode Input -->
            <div class="form-group hidden-input" id="ageInput">
                <label for="userAge">Your Age</label>
                <input type="number" id="userAge" placeholder="Enter your age" min="0">
                <div class="error" id="errorAge">Please enter a valid age</div>
            </div>

            <!-- Birthday Mode Input -->
            <div class="form-group" id="birthdayInput">
                <label for="birthDate">Your Birth Date</label>
                <input type="date" id="birthDate" placeholder="Select your birth date">
                <div class="error" id="error">Please enter a valid birth date</div>
            </div>

            <div class="button-group">
                <button class="calculate-btn" onclick="calculate()">Calculate</button>
                <button class="clear-btn" onclick="clearResults()">Clear</button>
            </div>

            <div class="results" id="results">
                <div class="result-section" id="ageYourAge">
                    <div class="result-title">Your Age</div>
                    <div class="result-value" id="yourAge">--</div>
                </div>

                <div class="result-section" id="lebronAgeSection">
                    <div class="result-title">LeHunky's Age</div>
                    <div class="result-value" id="lebronAge">--</div>
                </div>

                <div class="divider" id="divider1"></div>

                <div class="result-section" id="ageDiffSection">
                    <div class="result-title">Age Difference</div>
                    <div class="result-value comparison" id="ageDiff">--</div>
                </div>

                <div class="divider" id="divider2"></div>

                <div class="result-section" id="leYearSection">
                    <div class="result-title">Year of Birth (Le Calendar)</div>
                    <div class="result-value" id="leYearDisplay">--</div>
                </div>

                <div id="birthdayResults">
                    <div class="divider"></div>

                    <div class="result-section">
                        <div class="result-title">Seconds Since LeBonBons Birth</div>
                        <div class="result-value" id="secondsSinceLebron">--</div>
                    </div>

                    <div class="divider"></div>

                    <div class="result-section">
                        <div class="result-title">Your Age Difference (in seconds)</div>
                        <div class="result-value comparison" id="secondsDiff">--</div>
                    </div>
                </div>

                <div id="ageResults" class="hidden-input">
                    <div class="divider"></div>

                    <div class="result-section">
                        <div class="result-title">Estimated Age Difference (in seconds)</div>
                        <div class="result-value comparison" id="secondsDiffEstimated">--</div>
                        <div style="font-size: 12px; color: #999; margin-top: 10px;">*Estimated based on average year length</div>
                    </div>
                </div>

                <div id="epochResults" class="hidden-input">
                    <div class="divider"></div>

                    <div class="result-section">
                        <div class="result-title">LeEpoch - Seconds Since Our Glorious King's Birth</div>
                        <div class="result-value" id="epochCounter">--</div>
                        <div style="font-size: 15px; color: #999; margin-top: 10px;">Updating in real-time ü´∂</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sunshine Page -->
    <!-- Sunshine Page -->
    <div id="sunshine" class="page">
        <img src="LePookie_My_Sunshine.png" alt="Our Glorious King" class="sunshine-image">
        
        <div class="youtube-container">
            <iframe width="100%" height="315" src="https://www.youtube.com/embed/lIsTm0lGzY4?autoplay=1&loop=1&playlist=lIsTm0lGzY4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
    </div>
    <!-- Sunshine Footer -->
    <div class="sunshine-footer" id="sunshineFooter">
        <h2>üåû Sunshine ü´∂</h2>
        <p>Bask in the glory of our glorious king</p>
    </div>

    <!-- Donate Page -->
    <div id="donate" class="page">
        <div class="container">
            <h1>üí∞ Donate to the Church of LeBron ü´∂</h1>
            <p class="subtitle">Support the holy mission of our glorious King</p>

            <div class="info-box">
                Help us spread the glory of LeBron James across the world. Your donations fuel our sacred mission! üëë
            </div>

            <div class="donation-form">
                <div class="form-group">
                    <label for="donorName">Your Name</label>
                    <input type="text" id="donorName" placeholder="Enter your name">
                </div>

                <div class="form-group">
                    <label for="donorEmail">Your Email</label>
                    <input type="email" id="donorEmail" placeholder="Enter your email">
                </div>

                <div class="form-group">
                    <label for="donationAmount">Donation Amount ($)</label>
                    <input type="number" id="donationAmount" placeholder="Enter amount" min="1" step="0.01">
                </div>

                <div class="form-group">
                    <label for="donationMessage">Message (Optional)</label>
                    <textarea id="donationMessage" placeholder="Share why you're supporting LeBron's mission!" rows="3"></textarea>
                </div>

                <div id="card-element"></div>
                <div id="card-errors" class="error"></div>

                <button class="donate-btn" onclick="processDonation()">Donate Now üôè</button>
                <div id="donationStatus"></div>
            </div>
            <div style="border-top: 2px solid #000; margin: 30px 0; padding-top: 20px; text-align: center; color: #666; font-size: 12px;">
                ***Donations are done under a sandboxed stripe environment and will only work with the test card number - 4242 4242 4242 4242.
                <br>
                Real credit cards will not work and this site will not accept real money.***
            </div>
        </div>
    </div>

<script>
    // Wait for the key to be loaded, then initialize Stripe
    let stripe, elements, cardElement;
    
    const initStripe = setInterval(() => {
        if (window.STRIPE_PUBLISHABLE_KEY) {
            clearInterval(initStripe);
            stripe = Stripe(window.STRIPE_PUBLISHABLE_KEY);
            elements = stripe.elements();
            cardElement = elements.create('card');
        }
    }, 100);

    // Mount card element when donate page loads
    function initializeCard() {
        if (cardElement && document.getElementById('card-element').children.length === 0) {
            cardElement.mount('#card-element');
        }
    }

    async function processDonation() {
        const name = document.getElementById('donorName').value;
        const email = document.getElementById('donorEmail').value;
        const amount = document.getElementById('donationAmount').value;
        const message = document.getElementById('donationMessage').value;
        const statusEl = document.getElementById('donationStatus');
        const errorEl = document.getElementById('card-errors');

        // Validation
        if (!name || !email || !amount) {
            statusEl.textContent = '‚ùå Please fill in all required fields';
            statusEl.className = 'error';
            return;
        }

        if (amount < 1) {
            statusEl.textContent = '‚ùå Donation amount must be at least $1';
            statusEl.className = 'error';
            return;
        }

        if (!stripe) {
            statusEl.textContent = '‚ùå Payment system loading... please wait';
            statusEl.className = 'error';
            return;
        }

        errorEl.classList.remove('show');
        statusEl.textContent = '‚è≥ Processing your donation...';
        statusEl.className = '';

        // Create payment method
        const { error, paymentMethod } = await stripe.createPaymentMethod({
            type: 'card',
            card: cardElement,
            billing_details: {
                name: name,
                email: email
            }
        });

        if (error) {
            errorEl.textContent = `‚ùå ${error.message}`;
            errorEl.classList.add('show');
            statusEl.textContent = '';
            return;
        }

        // Send to your backend
        try {
            const response = await fetch('/api/process-donation', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    amount: parseFloat(amount) * 100,
                    paymentMethodId: paymentMethod.id,
                    name: name,
                    email: email,
                    message: message
                })
            });

            const result = await response.json();

            if (result.success) {
                statusEl.innerHTML = `
                    ‚úÖ Thank you for your donation, ${name}!<br>
                    Amount: $${parseFloat(amount).toFixed(2)}<br>
                    <small style="color: #666; margin-top: 5px; display: block;">
                    Your donation has been processed successfully. Bless you! üôè
                    </small>
                `;
                statusEl.className = 'success';

                setTimeout(() => {
                    document.getElementById('donorName').value = '';
                    document.getElementById('donorEmail').value = '';
                    document.getElementById('donationAmount').value = '';
                    document.getElementById('donationMessage').value = '';
                   cardElement.clear();
                }, 3000);
            } else {
                errorEl.textContent = `‚ùå ${result.error}`;
                errorEl.classList.add('show');
                statusEl.textContent = '';
            }
        } catch (error) {
            errorEl.textContent = `‚ùå Error processing donation: ${error.message}`;
            errorEl.classList.add('show');
            statusEl.textContent = '';
        }
    }

        const LEBRON_BIRTH = new Date(1984, 11, 30);
        let currentMode = 'age';
        let currentPage = 'calculator';
        let updateInterval = null;

        function switchPage(page, event) {
            currentPage = page;
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(page).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            const disclaimerFooter = document.getElementById('disclaimerFooter');
            const youtubeIframe = document.querySelector('#sunshine .youtube-container iframe');

            if (page === 'calculator' || page === 'donate' || page === 'boyoh') {
                    disclaimerFooter.classList.add('show');
                    document.body.classList.add('disclaimer-active');
                    if (youtubeIframe) 
                    {
                        youtubeIframe.src = youtubeIframe.src.split('?')[0] + '?autoplay=0&mute=1&loop=1&playlist=lIsTm0lGzY4';
                    }

                } else {
                    disclaimerFooter.classList.remove('show');
                    document.body.classList.remove('disclaimer-active');
                }

            // Change background based on page
            if (page === 'sunshine') {
                document.body.style.backgroundImage = "linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('LePookie_My_Sunshine.png')";
                document.getElementById('sunshineFooter').classList.add('show');

                if (youtubeIframe) 
                {
                    youtubeIframe.src = 'https://www.youtube.com/embed/lIsTm0lGzY4?autoplay=1&loop=1&playlist=lIsTm0lGzY4';
                }
                // Auto play audio
                const audio = document.querySelector('audio');
                audio.play();
            } else if (page === 'donate') {
                document.body.style.backgroundImage = "linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('glorious_pookie_James.png')";
                document.body.style.backgroundSize = "38%";
                document.body.style.backgroundPosition = "center 15%";
                document.body.style.backgroundAttachment = "fixed";
                document.getElementById('sunshineFooter').classList.remove('show');
                // Initialize Stripe card element
                initializeCard();
            } else if (page === 'boyoh') {
                document.body.style.backgroundImage = "linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('leBent.png')";
                document.body.style.backgroundSize = "cover";
                document.body.style.backgroundPosition = "center";
                document.body.style.backgroundAttachment = "fixed";
                document.getElementById('sunshineFooter').classList.remove('show');
                // Stop audio
                const audio = document.querySelector('audio');
                audio.pause();
                audio.currentTime = 0;
            }
            else {
                document.body.style.backgroundImage = "linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('glorious_pookie_James.png')";
                document.body.style.backgroundSize = "38%";
                document.body.style.backgroundPosition = "center 15%";
                document.body.style.backgroundAttachment = "fixed";
                document.getElementById('sunshineFooter').classList.remove('show');
                // Stop audio
                const audio = document.querySelector('audio');
                audio.pause();
                audio.currentTime = 0;
            }
        }

function switchMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-mode="${mode}"]`).classList.add('active');

            const buttonGroup = document.querySelector('.button-group');

            if (mode === 'birthday') 
            {
                document.getElementById('infoBox').textContent = 'Enter your birth date to see how you stack up against our MAGNIFICENT POOKIE BEAR ü´∂';
                document.getElementById('birthdayInput').classList.remove('hidden-input');
                document.getElementById('ageInput').classList.add('hidden-input');
                buttonGroup.style.display = 'flex';
                clearResults();
            } else if (mode === 'age') 
            {
                document.getElementById('infoBox').textContent = 'Our LePookie bear James was born on December 30, 1984. Enter your birth date to compare to our honey snookums!ü´∂';
                document.getElementById('ageInput').classList.remove('hidden-input');
                document.getElementById('birthdayInput').classList.add('hidden-input');
                buttonGroup.style.display = 'flex';
                clearResults();
            } 
            else if (mode === 'epoch') {
                document.getElementById('infoBox').textContent = 'Watch as time passes since our glorious king entered this world üëë';
                document.getElementById('birthdayInput').classList.add('hidden-input');
                document.getElementById('ageInput').classList.add('hidden-input');
                buttonGroup.style.display = 'none';
                startEpochCounter();
            }
        }

        function getLeBronAge() {
            const today = new Date();
            let lebronAge = today.getFullYear() - LEBRON_BIRTH.getFullYear();
            const monthDiff = today.getMonth() - LEBRON_BIRTH.getMonth();
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < LEBRON_BIRTH.getDate())) {
                lebronAge--;
            }
            return lebronAge;
        }

        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        function calculate() {
            if (currentMode === 'birthday') {
                calculateBirthday();
            } else if (currentMode === 'age') {
                calculateAge();
            } else if (currentMode === 'epoch') {
                startEpochCounter();
            }
        }

        function calculateBirthday() {
            const errorEl = document.getElementById('error');
            const birthDateInput = document.getElementById('birthDate').value;

            errorEl.classList.remove('show');

            if (!birthDateInput) {
                errorEl.classList.add('show');
                document.getElementById('results').classList.remove('show');
                return;
            }

            const birthDate = new Date(birthDateInput);
            const today = new Date();

            if (birthDate > today) {
                errorEl.classList.add('show');
                document.getElementById('results').classList.remove('show');
                return;
            }

            let yourAge = today.getFullYear() - birthDate.getFullYear();
            const monthDiff = today.getMonth() - birthDate.getMonth();
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
                yourAge--;
            }

            const lebronAge = getLeBronAge();
            const ageDifference = yourAge - lebronAge;

            const secondsSinceLebron = Math.floor((today - LEBRON_BIRTH) / 1000);
            const secondsSinceYou = Math.floor((today - birthDate) / 1000);
            const secondsDifference = secondsSinceYou - secondsSinceLebron;

            displayResults(yourAge, lebronAge, ageDifference, secondsSinceLebron, secondsDifference);

            // Hide all result sections first, then show the correct ones
            document.getElementById('ageYourAge').classList.remove('hidden-input');
            document.getElementById('lebronAgeSection').classList.remove('hidden-input');
            document.getElementById('ageDiffSection').classList.remove('hidden-input');
            document.getElementById('divider1').classList.remove('hidden-input');
            document.getElementById('birthdayResults').classList.remove('hidden-input');
            document.getElementById('ageResults').classList.add('hidden-input');
            document.getElementById('epochResults').classList.add('hidden-input');
            // Calculate LE year
            const leYear = calculateLeYearFromDate(birthDate);
            document.getElementById('leYearDisplay').textContent = leYear;
            document.getElementById('leYearSection').classList.remove('hidden-input');
            document.getElementById('divider2').classList.remove('hidden-input');

            updateSecondsInRealTime(secondsSinceLebron, secondsDifference);
        }

        function calculateAge() {
            const errorEl = document.getElementById('errorAge');
            const ageInput = document.getElementById('userAge').value;

            errorEl.classList.remove('show');

            if (!ageInput || isNaN(parseInt(ageInput)) || parseInt(ageInput) < 0) {
                errorEl.classList.add('show');
                document.getElementById('results').classList.remove('show');
                return;
            }

            const yourAge = parseInt(ageInput);
            const lebronAge = getLeBronAge();
            const ageDifference = yourAge - lebronAge;

            const secondsPerYear = 365.25 * 24 * 60 * 60;
            const secondsDifference = Math.floor(ageDifference * secondsPerYear);

            document.getElementById('yourAge').textContent = yourAge;
            document.getElementById('lebronAge').textContent = lebronAge;

            if (ageDifference > 0) {
                document.getElementById('ageDiff').innerHTML = `<span class="older">You are ${ageDifference} year${ageDifference !== 1 ? 's' : ''} older than LeGoat</span>`;
            } else if (ageDifference < 0) {
                document.getElementById('ageDiff').innerHTML = `<span class="younger">You are ${Math.abs(ageDifference)} year${Math.abs(ageDifference) !== 1 ? 's' : ''} younger than LeGoat</span>`;
            } else {
                document.getElementById('ageDiff').innerHTML = `<span>You are the same age!</span>`;
            }

            if (secondsDifference > 0) {
                document.getElementById('secondsDiffEstimated').innerHTML = `<span class="older">${formatNumber(secondsDifference)} seconds older than LeGoat</span>`;
            } else if (secondsDifference < 0) {
                document.getElementById('secondsDiffEstimated').innerHTML = `<span class="younger">${formatNumber(Math.abs(secondsDifference))} seconds younger than LeGoat</span>`;
            } else {
                document.getElementById('secondsDiffEstimated').innerHTML = `<span>Same age in seconds!</span>`;
            }

            // Hide all result sections first
            document.getElementById('ageYourAge').classList.remove('hidden-input');
            document.getElementById('lebronAgeSection').classList.remove('hidden-input');
            document.getElementById('ageDiffSection').classList.remove('hidden-input');
            document.getElementById('divider1').classList.remove('hidden-input');
            document.getElementById('birthdayResults').classList.add('hidden-input');
            document.getElementById('ageResults').classList.remove('hidden-input');
            document.getElementById('epochResults').classList.add('hidden-input');
            document.getElementById('results').classList.add('show');
            // Calculate LE year
            const leYear = calculateLeYear(yourAge);
            document.getElementById('leYearDisplay').textContent = leYear;
            document.getElementById('leYearSection').classList.remove('hidden-input');
            document.getElementById('divider2').classList.remove('hidden-input');

            if (updateInterval) clearInterval(updateInterval);
        }


        function calculateLeYear(userAge) {
            const currentYear = new Date().getFullYear();
            const currentMonth = new Date().getMonth();
            const currentDay = new Date().getDate();
            
            // Calculate birth year based on age
            let birthYear = currentYear - userAge;
            // Adjust if birthday hasn't happened yet this year
            if (currentMonth < 11 || (currentMonth === 11 && currentDay < 30)) {
                birthYear++;
            }
            
            // Check if born in the "Year of Lebron" (1984 or 1985)
            if (birthYear === 1984 || birthYear === 1985) {
                return "Year of Lebron üëë";
            } else if (birthYear > 1985) {
                const yearsAfter = birthYear - 1985;
                return `${yearsAfter} A.L. (After Lebron)`;
            } else {
                const yearsBefore = 1984 - birthYear;
                return `${yearsBefore} B.L. (Before Lebron)`;
            }
        }


function calculateLeYearFromDate(birthDate) {
    const birthYear = birthDate.getFullYear();
    const birthMonth = birthDate.getMonth();
    const birthDay = birthDate.getDate();

    // Lebron born: Dec 30, 1984
    const lebronYear = 1984;
    const lebronMonth = 11; // December (0-indexed)
    const lebronDay = 30;

    // Define Lebron's first year range
    if (
        (birthYear === 1984 && (birthMonth > 11 || (birthMonth === 11 && birthDay >= 30))) ||
        (birthYear === 1985 && (birthMonth < 11 || (birthMonth === 11 && birthDay <= 30)))
    ) {
        return "Year of Lebron üëë";
    }

    // After Lebron
    if (birthYear > 1985 || (birthYear === 1985 && (birthMonth > 11 || (birthMonth === 11 && birthDay > 30)))) {
        let yearsAfter = birthYear - 1985;
        if (birthMonth < 11 || (birthMonth === 11 && birthDay < 30)) yearsAfter--;
        return `${yearsAfter + 1} A.L. (After Lebron)`;
    }

    // Before Lebron
    let yearsBefore = 1984 - birthYear;
    if (birthMonth > 11 || (birthMonth === 11 && birthDay > 30)) yearsBefore--;
    return `${yearsBefore + 1} B.L. (Before Lebron)`;
}


        function displayResults(yourAge, lebronAge, ageDifference, secondsSinceLebron, secondsDifference) {
            document.getElementById('yourAge').textContent = yourAge;
            document.getElementById('lebronAge').textContent = lebronAge;

            if (ageDifference > 0) {
                document.getElementById('ageDiff').innerHTML = `<span class="older">You are ${ageDifference} year${ageDifference !== 1 ? 's' : ''} older than LeGoat</span>`;
            } else if (ageDifference < 0) {
                document.getElementById('ageDiff').innerHTML = `<span class="younger">You are ${Math.abs(ageDifference)} year${Math.abs(ageDifference) !== 1 ? 's' : ''} younger than LeGoat</span>`;
            } else {
                document.getElementById('ageDiff').innerHTML = `<span>You are the same age!</span>`;
            }

            document.getElementById('secondsSinceLebron').textContent = formatNumber(secondsSinceLebron);

            if (secondsDifference > 0) {
                document.getElementById('secondsDiff').innerHTML = `<span class="older">${formatNumber(secondsDifference)} seconds older than LeGoat</span>`;
            } else if (secondsDifference < 0) {
                document.getElementById('secondsDiff').innerHTML = `<span class="younger">${formatNumber(Math.abs(secondsDifference))} seconds younger than LeGoat</span>`;
            } else {
                document.getElementById('secondsDiff').innerHTML = `<span>Same age in seconds!</span>`;
            }

            document.getElementById('results').classList.add('show');
        }
        function updateSecondsInRealTime(initialLebronSeconds, initialDifference) {
            if (updateInterval) clearInterval(updateInterval);
            
            updateInterval = setInterval(() => {
                const now = new Date();
                const currentLebronSeconds = Math.floor((now - LEBRON_BIRTH) / 1000);

                document.getElementById('secondsSinceLebron').textContent = formatNumber(currentLebronSeconds);
            }, 1000);
        }

        function clearResults() {
            document.getElementById('birthDate').value = '';
            document.getElementById('userAge').value = '';
            document.getElementById('results').classList.remove('show');
            document.getElementById('error').classList.remove('show');
            document.getElementById('errorAge').classList.remove('show');
            document.getElementById('leYearSection').classList.add('hidden-input');
            document.getElementById('divider2').classList.add('hidden-input');
            if (updateInterval) clearInterval(updateInterval);
        }

        document.getElementById('birthDate').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') calculate();
        });

        document.getElementById('userAge').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') calculate();
        });

        function startEpochCounter() {
            document.getElementById('results').classList.add('show');
            document.getElementById('ageYourAge').classList.add('hidden-input');
            document.getElementById('lebronAgeSection').classList.add('hidden-input');
            document.getElementById('ageDiffSection').classList.add('hidden-input');
            document.getElementById('divider1').classList.add('hidden-input');
            document.getElementById('leYearSection').classList.add('hidden-input');
            document.getElementById('divider2').classList.add('hidden-input');
            document.getElementById('birthdayResults').classList.add('hidden-input');
            document.getElementById('ageResults').classList.add('hidden-input');
            document.getElementById('epochResults').classList.remove('hidden-input');

            if (updateInterval) clearInterval(updateInterval);
            
            function updateEpoch() {
                const now = new Date();
                const epochSeconds = Math.floor((now - LEBRON_BIRTH) / 1000);
                document.getElementById('epochCounter').textContent = formatNumber(epochSeconds);
            }

            updateEpoch();
            updateInterval = setInterval(updateEpoch, 1);
        }

        // Initialize the correct view on page load
        window.addEventListener('DOMContentLoaded', function() {
            if (currentMode === 'age') {
                document.getElementById('infoBox').textContent = 'Our LePookie bear James was born on December 30, 1984. Enter your birth date to compare to our honey snookums!ü´∂';
                document.getElementById('ageInput').classList.remove('hidden-input');
                document.getElementById('birthdayInput').classList.add('hidden-input');
            }
            // Stop YouTube from autoplay on initial startup
            const youtubeIframe = document.querySelector('#sunshine .youtube-container iframe');
            if (youtubeIframe) {
                youtubeIframe.src = youtubeIframe.src.split('?')[0] + '?autoplay=0&mute=1&loop=1&playlist=lIsTm0lGzY4';
            }
        });


    </script>

    <!-- Boy oh boy Page -->
    <div id="boyoh" class="page">
        <div class="boyoh-wrapper">
            <div class="boyoh-column">
                <!-- Add your images here -->
                <img src="lePresident.png" alt="LeBron moment">
                <img src="leRef.png" alt="LeBron moment">
                <img src="lePoolside.jpeg" alt="LeBron moment">
                <img src="leChina.jpg" alt="LeBron moment">
                <img src="LePookie_My_Sunshine.png" alt="LeBron moment">
            </div>
            <div class="boyoh-container">
                <!-- Center Column -->
                <div class="boyoh-center">
                    <img src="lebon.jpeg" alt="Our Glorious King">
                    <p class="boyoh-text">
                        Boy oh boy where do I even begin. Lebron... honey, my pookie bear. I have loved you ever since I first laid eyes on you. The way you drive into the paint and strike fear into your enemies eyes. Your silky smooth touch around the rim, and that gorgeous jumpshot. I would do anything for you. I wish it were possible to freeze time so I would never have to watch you retire. You had a rough childhood, but you never gave up hope. You are even amazing off the court, you're a great husband and father, sometimes I even call you dad. I forvever dread and weep, thinking of the day you will one day retire. I would sacrifice my own life it were the only thing that could put a smile on your beautiful face. You have given me so much joy, and heartbreak over the years. I remember when you first left clevenland and its like my heart got broken into a million pieces. But a tear still fell from my right eye when I watched you win your first ring in miami, because deep down, my glorious king deserved it. I just wanted you to return home. Then allas, you did, my sweet baby boy came home and I rejoiced. 2015 was a hard year for us baby, but in 2016 you made history happen. You came back from 3-1 and I couldn't believe it. I was crying, bawling even, and I heard my glorious king exclaim these words, "CLEVELAND, THIS IS FOR YOU!" Not only have you changed the game of basketball and the world forever, but you've eternally changed my world. And now you're getting older, but still the goat, my goat. I love you pookie bear, my glorious king, Lebron James.‚ò∫Ô∏è‚ô•Ô∏èü´∂üèª
                    </p>
                </div>
            </div>
            <!-- Right Column -->
            <div class="boyoh-column">
                <!-- Add your images here -->
                <img src="leHoney.png" alt="LeBron moment">
                <img src="leHennesy.jpeg" alt="LeBron moment">
                <img src="leHappy.png" alt="LeBron moment">
                <img src="leWhat.png" alt="LeBron moment">
                <img src="leHuh.png" alt="LeBron moment">
            </div>
        </div>
    </div>

    <div id="disclaimerFooter" class="disclaimer-footer">
        <strong>‚ö†Ô∏è Disclaimer:</strong> This is an unofficial fan site. Not affiliated with, endorsed by, or associated with LeBron James or the NBA.
    </div>
</body>
</html>
